@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap');

:root{
  --ink:#2b1a4a;
  --rule:#3b275f;
  --paper:#faf6f1;
  --sheet:#fdfaf7;
  --accent:#ff6f61;
  --circle:#efdccf;
  --paybg:#efe8dc;
  --payborder:#dccfbb;

  --tbl-bg:#f7f3ed;   /* nền khung bảng */
  --tbl-border:#e4dbce;
  --tbl-zebra1:#fcfaf8;
  --tbl-zebra2:#f8f5f0;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--paper);
  font-family:'Outfit',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--ink);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  font-variant-numeric: tabular-nums; font-feature-settings:"tnum" 1,"lnum" 1;
}

/* Wrapper */
.invoice-wrapper{
  position:relative; max-width:820px; margin:40px auto;
  background:var(--sheet); padding:60px 60px 44px;
  border-radius:16px; box-shadow:0 12px 40px rgba(0,0,0,.08); overflow:hidden;
}
.invoice-wrapper {
  position: relative;
  z-index: 0; /* giữ nền dưới cùng */
}

.invoice-header,
.title,
.info,
.items-wrapper,
.summary,
.payment-box,
.invoice-note {
  position: relative;
  z-index: 2; /* cho toàn bộ nội dung nằm lên trên decor */
}


/* Décor */
.decor{position:absolute; pointer-events:none}
.decor-circle{top:-140px; right:-140px; width:420px; height:420px; background:var(--circle); opacity:.65; border-radius:50%}
.decor-blob{top:128px; right:44px; width:112px; height:112px; background:var(--accent); border-radius:32% 68% 61% 39%/38% 31% 69% 62%; transform:rotate(22deg)}

/* Header */
.invoice-header{display:flex; justify-content:space-between; align-items:flex-start}
.logo-col{display:flex; align-items:center; gap:14px; min-width:0}
.logo{width:64px; height:64px; object-fit:contain; flex:0 0 64px; background:#fff; border-radius:8px}
.company-info{line-height:1.2; min-width:0}
.company-name{font-size:18px; font-weight:700; margin:0; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
.tagline{font-size:13px; margin-top:2px; opacity:.8}
.social{text-align:right}
.social p{margin:.25rem 0 .5rem; font-size:14px; opacity:.9}
.icons{display:flex; gap:10px; justify-content:flex-end}
.ico{display:inline-grid; place-items:center; width:26px; height:26px; border:1.5px solid currentColor; border-radius:50%; color:var(--ink); text-decoration:none}
.ico svg{width:14px; height:14px}

/* Title + Info */
.title{font-size:24px; font-weight:700; margin:36px 0 16px}
.info{display:grid; grid-template-columns:1.2fr .6fr .6fr; gap:24px; font-size:15px; margin-bottom:16px}
.info strong{display:block; margin-bottom:6px}

/* ITEMS: khung + zebra */
.items-wrapper{
  background:var(--tbl-bg);
  border:1px solid var(--tbl-border);
  border-radius:10px;
  padding:16px 20px;
  margin-top:16px;
}
.items{width:100%; border-collapse:separate; border-spacing:0}
.items thead{border-bottom:2px solid var(--rule)}
.items th{padding:10px 8px; text-align:left; font-weight:700; letter-spacing:.2px}
.items td{padding:12px 8px; font-size:15px; border-bottom:1px solid var(--tbl-border)}
.items tbody tr:nth-child(odd){background:var(--tbl-zebra1)}
.items tbody tr:nth-child(even){background:var(--tbl-zebra2)}
.items tbody tr:last-child td{border-bottom:none}
.items th:nth-child(2), .items th:nth-child(3), .items th:nth-child(4),
.items td:nth-child(2), .items td:nth-child(3), .items td:nth-child(4){text-align:right}

/* Summary */
.summary{margin-top:18px; font-size:16px; text-align:right; line-height:1.9}
.summary span{display:inline-block; width:110px; text-align:right; font-weight:600}
.summary .total{font-weight:800; font-size:18px}

/* Payment */
.payment-box{
  margin-top:28px; padding:20px 22px;
  background:var(--paybg); border:1px solid var(--payborder);
  border-radius:14px;
}
.payment-box h3{margin:0 0 14px; font-size:18px; font-weight:800}
.payment-grid{display:grid; grid-template-columns:1.3fr .7fr; gap:22px; align-items:start}
.pay-col h4{margin:4px 0 10px; font-size:15px; font-weight:700}
.banklines{margin:0; display:grid; grid-template-columns:160px 1fr; gap:8px 12px; font-size:14px}
.banklines dt{font-weight:700}
.banklines dd{margin:0}
.qr .qr-wrap{
  display:grid; place-items:center; width:170px; height:170px;
  background:#fff; border:1px dashed var(--payborder); border-radius:12px; overflow:hidden;
}
.qr .qr-wrap img{width:100%; height:100%; object-fit:contain}
.note{margin:.5rem 0 0; font-size:12px; opacity:.8}

/* Footer note */
.invoice-note{
  margin-top:40px; text-align:center; border-top:1px solid #e4dbce; padding-top:20px; color:var(--ink);
}
.invoice-note .note-line{font-size:15px; font-weight:600; margin-bottom:6px}
.invoice-note .wish-line{font-size:14px; opacity:.8; font-style:italic}

/* Responsive */
/* Print: chuẩn A4, 1 trang đẹp, không vỡ layout */
@media print {
  body {
    background: #fff;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  .builder {
    display: none !important; /* ẩn phần input */
  }

  .invoice-wrapper {
    box-shadow: none;
    margin: 0 auto;
    border-radius: 0;
    width: 210mm;
    min-height: 297mm;
    padding: 20mm 18mm 20mm;
    page-break-after: always;
    page-break-inside: avoid;
  }

  .decor-circle {
    top: -50mm;
    right: -50mm;
    width: 160mm;
    height: 160mm;
  }

  .decor-blob {
    top: 35mm;
    right: 25mm;
  }

  .payment-box,
  .invoice-note {
    page-break-inside: avoid;
  }

  /* Giữ font và màu */
  * {
    color-adjust: exact !important;
    -webkit-print-color-adjust: exact !important;
  }
}


/* Print / A4 */
@media print{
  body{background:#fff}
  .invoice-wrapper{box-shadow:none; margin:0; border-radius:0; width:210mm; min-height:297mm; padding:20mm 18mm 20mm}
  .decor-circle{top:-60mm; right:-60mm; width:160mm; height:160mm}
  .decor-blob{top:40mm; right:18mm}
}
